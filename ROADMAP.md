# Turafic Dashboard 개발 로드맵

**현재 버전**: v0.1.0 (초기 구현)  
**작성일**: 2025-11-11  
**목표**: 완전한 봇 네트워크 관리 대시보드 구현

---

## ✅ 완료된 작업 (v0.1.0)

### Phase 1: 기본 구조 및 홈 대시보드
- [x] DB 스키마 설계 (campaigns, bots, variable_combinations, rankings)
- [x] 샘플 데이터 생성 (캠페인 3개, 봇 22대, 변수 조합 3개, 순위 이력 31일)
- [x] tRPC API 구현 (dashboard, campaigns, bots, abTesting, rankings)
- [x] 홈 대시보드 UI (통계 카드 4개, 최근 활동 목록)
- [x] DashboardLayout 컴포넌트 (사이드바 네비게이션)
- [x] 개발 환경 OAuth 우회 로직
- [x] README.md 작성

---

## 🚧 진행 중인 작업

### Phase 2: 캠페인 관리 페이지 (우선순위: 높음)

#### 2.1. 백엔드 API 구현
- [ ] `campaigns.create`: 캠페인 생성
  - 입력: name, platform, keyword, productId
  - 검증: 필수 필드 체크, 중복 검사
- [ ] `campaigns.update`: 캠페인 수정
  - 입력: id, name, keyword, productId
- [ ] `campaigns.start`: 캠페인 시작
  - 상태를 `paused` → `active`로 변경
  - 봇에게 작업 할당 시작
- [ ] `campaigns.stop`: 캠페인 중지
  - 상태를 `active` → `paused`로 변경
  - 진행 중인 작업 중단
- [ ] `campaigns.delete`: 캠페인 삭제
  - 소프트 삭제 또는 하드 삭제 결정
  - 관련 데이터 정리 (rankings, tasks)

#### 2.2. 프론트엔드 UI 구현
- [ ] 캠페인 목록 테이블
  - 컬럼: 이름, 플랫폼, 키워드, 제품 ID, 상태, 생성일
  - 정렬, 필터링, 검색 기능
- [ ] 캠페인 생성 모달
  - 폼 입력: 이름, 플랫폼 선택, 키워드, 제품 ID
  - 유효성 검사 (클라이언트 측)
- [ ] 캠페인 상세 페이지
  - 캠페인 정보 표시
  - 순위 변동 그래프
  - 작업 현황 (성공/실패 통계)
- [ ] 액션 버튼
  - 시작/중지 토글 버튼
  - 수정 버튼 (모달 열기)
  - 삭제 버튼 (확인 다이얼로그)

#### 2.3. 실시간 업데이트
- [ ] WebSocket 연결 설정
- [ ] 캠페인 상태 변경 시 실시간 반영
- [ ] Optimistic UI 업데이트

---

## 📋 다음 단계 작업

### Phase 3: 봇 네트워크 모니터링 페이지 (우선순위: 높음)

#### 3.1. 백엔드 API 구현
- [ ] `bots.register`: 새 봇 등록
  - 입력: deviceId, deviceModel, role, groupId
- [ ] `bots.updateStatus`: 봇 상태 업데이트
  - 입력: id, status (online, offline, error)
  - 자동: lastActivity 타임스탬프 갱신
- [ ] `bots.getByGroup`: 그룹별 봇 조회
  - 입력: groupId
  - 출력: 해당 그룹의 대장봇 + 쫄병봇 목록
- [ ] `bots.getCurrentTask`: 봇의 현재 작업 조회
  - 입력: botId
  - 출력: 진행 중인 작업 정보

#### 3.2. 프론트엔드 UI 구현
- [ ] 트래픽 봇 그룹 카드 그리드 (6그룹)
  - 각 그룹: 대장봇 1대 + 쫄병봇 2대
  - 상태 표시: 온라인(초록), 오프라인(회색), 에러(빨강)
  - 현재 작업 표시 (진행 중이면)
- [ ] 순위 체크 봇 카드 그리드 (4대)
  - 독립적으로 표시
  - 마지막 순위 체크 시간 표시
- [ ] 봇 상세 모달
  - 디바이스 정보 (ID, 모델, 역할)
  - 작업 이력 (최근 10개)
  - 에러 로그 (있을 경우)
- [ ] 실시간 상태 업데이트
  - 5초마다 폴링 또는 WebSocket

#### 3.3. 봇 관리 기능
- [ ] 봇 수동 재시작
- [ ] 봇 그룹 재할당
- [ ] 봇 삭제 (비활성화)

---

### Phase 4: A/B 테스트 현황 페이지 (우선순위: 중간)

#### 4.1. 백엔드 API 구현
- [ ] `abTesting.getGenerationStats`: 세대별 통계
  - 출력: 세대 번호, 진행률, 최고 점수, 평균 점수
- [ ] `abTesting.getCombinationDetail`: 변수 조합 상세
  - 입력: combinationId
  - 출력: 변수 JSON, 테스트 결과 목록 (10회)
- [ ] `abTesting.createCombination`: 수동 변수 조합 생성
  - 입력: variables (JSON)
  - 테스트 큐에 추가
- [ ] `abTesting.deprecateCombination`: 변수 조합 폐기
  - 입력: combinationId
  - 상태를 `deprecated`로 변경

#### 4.2. 프론트엔드 UI 구현
- [ ] 현재 세대 통계 카드 (3개)
  - 세대 번호, 테스트 진행률, 최고 점수
- [ ] 변수 조합 목록 테이블
  - 컬럼: ID, 변수 조합, 등급, 세대, 성능 점수, 평균 순위, 성공률, 캡처 회피율
  - 등급별 색상 구분 (엘리트: 빨강, 유의미: 노랑, 폐기: 회색)
  - 정렬, 필터링 (등급별, 세대별)
- [ ] 변수 조합 상세 모달
  - 변수 JSON 표시 (보기 좋게 포맷팅)
  - 테스트 결과 목록 (10회)
  - 성능 추이 그래프
- [ ] 세대별 진화 그래프
  - X축: 세대 번호
  - Y축: 최고 점수, 평균 점수
  - 라인 차트 (Chart.js)
- [ ] 수동 변수 조합 생성 모달
  - 10개 변수 각각 선택 (드롭다운)
  - 생성 버튼

#### 4.3. 자동화 스케줄러 연동
- [ ] 매일 자정 자동 실행 상태 표시
- [ ] 다음 실행 예정 시간 표시
- [ ] 수동 실행 버튼 (관리자용)

---

### Phase 5: 순위 변동 이력 페이지 (우선순위: 중간)

#### 5.1. 백엔드 API 구현
- [ ] `rankings.getHistoryByCampaign`: 캠페인별 순위 이력
  - 입력: campaignId, startDate, endDate
  - 출력: 순위 이력 배열 (timestamp, rank, reliabilityScore)
- [ ] `rankings.getSignificantEvents`: 유의미한 순위 변화 이벤트
  - 입력: campaignId
  - 출력: 순위 변화 이벤트 목록 (이전 순위, 이후 순위, 변화량, 사용된 변수 조합)
- [ ] `rankings.addRanking`: 순위 데이터 추가
  - 입력: campaignId, rank, reliabilityScore
  - 자동: 유의미한 변화 감지 (이전 순위와 비교)

#### 5.2. 프론트엔드 UI 구현
- [ ] 캠페인 선택 드롭다운
  - 진행 중인 캠페인 목록
- [ ] 기간 선택 (날짜 범위)
  - 기본값: 최근 30일
  - 커스텀 범위 선택 가능
- [ ] 순위 변화 시계열 그래프
  - X축: 날짜
  - Y축: 순위 (역순, 1위가 위)
  - 라인 차트 (Chart.js)
  - 유의미한 변화 지점 마커 표시
- [ ] 유의미한 순위 변화 이벤트 목록
  - 카드 형태로 표시
  - 이전 순위 → 이후 순위 (변화량)
  - 날짜 및 시간
  - 사용된 변수 조합 표시
  - 클릭 시 해당 변수 조합 상세 모달 열기
- [ ] 통계 요약 카드
  - 최고 순위, 최저 순위, 평균 순위
  - 총 상승 횟수, 총 하락 횟수

---

### Phase 6: 실시간 알림 시스템 (우선순위: 낮음)

#### 6.1. 백엔드 구현
- [ ] WebSocket 서버 설정
- [ ] 이벤트 발행 시스템
  - 캠페인 상태 변경
  - 봇 상태 변경
  - 유의미한 순위 변화
  - 에러 발생
- [ ] 알림 저장 (DB)
  - notifications 테이블 추가

#### 6.2. 프론트엔드 구현
- [ ] WebSocket 클라이언트 연결
- [ ] 토스트 알림 (sonner)
- [ ] 알림 센터 (헤더 아이콘)
  - 읽지 않은 알림 개수 배지
  - 알림 목록 드롭다운
  - 모두 읽음 처리

---

### Phase 7: 사용자 관리 및 권한 (우선순위: 낮음)

#### 7.1. 백엔드 구현
- [ ] 역할 기반 접근 제어 (RBAC)
  - 역할: admin, operator, viewer
  - 권한: 캠페인 생성/수정/삭제, 봇 관리, 설정 변경
- [ ] 사용자 관리 API
  - 사용자 목록 조회
  - 역할 변경

#### 7.2. 프론트엔드 구현
- [ ] 사용자 관리 페이지 (관리자 전용)
  - 사용자 목록 테이블
  - 역할 변경 드롭다운
- [ ] 권한별 UI 제한
  - viewer: 읽기 전용
  - operator: 캠페인 시작/중지 가능
  - admin: 모든 권한

---

### Phase 8: 설정 및 시스템 관리 (우선순위: 낮음)

#### 8.1. 시스템 설정
- [ ] 설정 페이지
  - A/B 테스트 스케줄 설정 (cron 표현식)
  - 알림 설정 (이메일, Slack 웹훅)
  - 봇 작업 간격 설정
  - 순위 체크 간격 설정

#### 8.2. 로그 및 모니터링
- [ ] 시스템 로그 페이지
  - 에러 로그, 경고 로그, 정보 로그
  - 필터링 (날짜, 레벨, 소스)
- [ ] 성능 모니터링
  - API 응답 시간
  - DB 쿼리 성능
  - 메모리 사용량

---

## 🎯 마일스톤

### v0.2.0 - 캠페인 관리 완성 (목표: 2주)
- 캠페인 CRUD 완성
- 실시간 상태 업데이트
- 캠페인 상세 페이지

### v0.3.0 - 봇 네트워크 모니터링 완성 (목표: 3주)
- 봇 상태 실시간 모니터링
- 봇 관리 기능
- 작업 이력 조회

### v0.4.0 - A/B 테스트 및 순위 이력 완성 (목표: 4주)
- A/B 테스트 현황 페이지
- 순위 변동 이력 페이지
- 자동화 스케줄러 연동

### v1.0.0 - 프로덕션 준비 완료 (목표: 6주)
- 실시간 알림 시스템
- 사용자 관리 및 권한
- 설정 및 시스템 관리
- 성능 최적화 및 테스트

---

## 📝 기술 부채 및 개선 사항

### 성능 최적화
- [ ] DB 인덱스 추가 (자주 조회되는 컬럼)
- [ ] API 응답 캐싱 (Redis)
- [ ] 무한 스크롤 또는 페이지네이션 (대량 데이터)
- [ ] 이미지 최적화 (WebP, lazy loading)

### 코드 품질
- [ ] 단위 테스트 작성 (Jest, Vitest)
- [ ] E2E 테스트 작성 (Playwright)
- [ ] ESLint 규칙 강화
- [ ] TypeScript strict 모드 활성화

### 보안
- [ ] SQL Injection 방지 (Drizzle ORM 사용 중)
- [ ] XSS 방지 (React 기본 제공)
- [ ] CSRF 토큰 추가
- [ ] Rate limiting (API 요청 제한)
- [ ] 민감 정보 암호화 (쿠키, 토큰)

### UX 개선
- [ ] 로딩 스켈레톤 추가
- [ ] 에러 바운더리 개선
- [ ] 다크 모드 지원
- [ ] 반응형 디자인 개선 (모바일)
- [ ] 키보드 단축키 추가

### 문서화
- [ ] API 문서 자동 생성 (tRPC 기반)
- [ ] 컴포넌트 스토리북 추가
- [ ] 배포 가이드 작성
- [ ] 트러블슈팅 가이드 작성

---

## 🚀 배포 계획

### 개발 환경
- **URL**: https://turafic-dev.manus.space
- **자동 배포**: main 브랜치 푸시 시

### 스테이징 환경
- **URL**: https://turafic-staging.manus.space
- **자동 배포**: release 브랜치 푸시 시

### 프로덕션 환경
- **URL**: https://turafic.manus.space
- **수동 배포**: 태그 생성 시 (v1.0.0, v1.1.0 등)

---

**작성자**: Manus AI Agent  
**최종 수정일**: 2025-11-11

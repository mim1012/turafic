# Turafic μ‹μ¤ν… μ—…λ°μ΄νΈ μ”μ•½ (v2.0)

**μ‘μ„±μΌ**: 2025-11-05  
**λ²„μ „**: 2.0  
**μ‘μ„±μ**: Manus AI Agent

---

## π“‹ μ—…λ°μ΄νΈ κ°μ”

Turafic μ‹μ¤ν…μ ν•µμ‹¬ λ΅μ§μΈ **μ μλ―Έν• μμ„ κ°μ„  κΈ°μ¤€**μ„ v1.0μ—μ„ v2.0μΌλ΅ μ—…λ°μ΄νΈν•κ³ , κ΄€λ¦¬μκ°€ μμ„ λ³€λ™ μ΄λ ¥μ„ μ‹¤μ‹κ°„μΌλ΅ λ¨λ‹ν„°λ§ν•  μ μλ” **κ΄€λ¦¬μ λ·°**λ¥Ό μ‹ κ· μ„¤κ³„ν•μ€μµλ‹λ‹¤.

---

## π― μ£Όμ” λ³€κ²½ μ‚¬ν•­

### 1. μ μλ―Έν• μμ„ κ°μ„  κΈ°μ¤€ λ³€κ²½

#### v1.0 (κΈ°μ΅΄)
```
μ μλ―Έν• κ°μ„ : μμ„ κ°μ„  β‰¥ 1μ„
```

**λ¬Έμ μ **:
- ν”λ«νΌμ μμ„ μ•κ³ λ¦¬μ¦μ€ μ‹κ°„λ€, μ‚¬μ©μ μ„μΉ, κ΄‘κ³  λ…Έμ¶ λ“± λ‹¤μ–‘ν• μ™Έλ¶€ μ”μΈμ— μν•΄ 1~2μ„ μ •λ„λ” μμ—°μ¤λ½κ² λ³€λ™ν•©λ‹λ‹¤.
- 157μ„μ—μ„ 156μ„λ΅ 1μ„ μƒμΉν•λ” κ²ƒμ€ μ‹¤μ§μ μΈ λΉ„μ¦λ‹μ¤ ν¨κ³Όκ°€ κ±°μ μ—†μµλ‹λ‹¤.
- λ‹¨ λ‡ νμ νΈλν”½ μ‘μ—… ν›„ μ°μ—°ν 1μ„ μƒμΉν• κ²½μ°μ™€, 100νμ μ²΄κ³„μ μΈ νΈλν”½ μ‘μ—… ν›„ 50μ„ μƒμΉν• κ²½μ°λ¥Ό λ™μΌν•κ² μ·¨κΈ‰ν•λ” κ²ƒμ€ λΉ„ν•©λ¦¬μ μ…λ‹λ‹¤.

#### v2.0 (μ‹ κ·)
```
μ μλ―Έν• κ°μ„ : 100ν νΈλν”½ μ‘μ—… ν›„ 50μ„ μ΄μƒ μμ„ μƒμΉ
```

**κ°μ„  ν¨κ³Ό**:
- **λ…Έμ΄μ¦ μ κ±°**: 1~2μ„ μ •λ„μ μμ—° λ³€λ™μ„ 'μ μλ―Έν• κ°μ„ 'μΌλ΅ μ¤νν•λ” λ¬Έμ  ν•΄κ²°
- **μ‹¤μ©μ„± ν–¥μƒ**: μ‹¤μ  λΉ„μ¦λ‹μ¤ ν¨κ³Όκ°€ μλ” 50μ„ μ΄μƒ μƒμΉλ§μ„ μ μλ―Έν•κ² νμ •
- **μ‘μ—…λ‰ κΈ°μ¤€ λ…ν™•ν™”**: 100ν νΈλν”½ μ‘μ—…μ΄λΌλ” λ…ν™•ν• κΈ°μ¤€ μ„¤μ •
- **λ°μ΄ν„° μ‹ λΆ°μ„±**: μ¶©λ¶„ν• μƒν” μ(100ν)λ¥Ό ν™•λ³΄ν•μ—¬ ν†µκ³„μ  μ‹ λΆ°μ„± ν™•λ³΄

---

### 2. μμ„ λ³€ν™” κΈ°μ¤€ μ „μ²΄ μ—…λ°μ΄νΈ

| κΈ°μ¤€ | v1.0 | v2.0 |
|---|---|---|
| **μ μλ―Έν• κ°μ„ ** | μμ„ κ°μ„  β‰¥ 1μ„ | **100ν νΈλν”½ μ‘μ—… ν›„ 50μ„ μ΄μƒ μμ„ μƒμΉ** |
| **λ―Έλ―Έν• κ°μ„ ** | 0.5μ„ β‰¤ μμ„ κ°μ„  < 1μ„ | **100ν νΈλν”½ μ‘μ—… ν›„ 10~49μ„ μμ„ μƒμΉ** |
| **λ³€ν™” μ—†μ** | -0.5μ„ < μμ„ κ°μ„  < 0.5μ„ | **100ν νΈλν”½ μ‘μ—… ν›„ -10~9μ„ μμ„ λ³€λ™** |
| **μμ„ ν•λ½** | μμ„ κ°μ„  < -0.5μ„ | **100ν νΈλν”½ μ‘μ—… ν›„ 10μ„ μ΄μƒ μμ„ ν•λ½** |

---

### 3. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ—…λ°μ΄νΈ

#### 3.1. `campaigns` ν…μ΄λΈ”μ— `traffic_count` μ»¬λΌ μ¶”κ°€

```sql
ALTER TABLE campaigns
ADD COLUMN traffic_count INT DEFAULT 0,
ADD COLUMN traffic_target INT DEFAULT 100;

COMMENT ON COLUMN campaigns.traffic_count IS 'ν„μ¬κΉμ§€ μ™„λ£λ νΈλν”½ μ‘μ—… νμ';
COMMENT ON COLUMN campaigns.traffic_target IS 'λ©ν‘ νΈλν”½ μ‘μ—… νμ (κΈ°λ³Έκ°’: 100)';
```

#### 3.2. `significant_variables` ν…μ΄λΈ”μ— `traffic_count` μ»¬λΌ μ¶”κ°€

```sql
ALTER TABLE significant_variables
ADD COLUMN traffic_count INT NOT NULL DEFAULT 100;

COMMENT ON COLUMN significant_variables.traffic_count IS 'ν•΄λ‹Ή λ³€μλ΅ μν–‰ν• νΈλν”½ μ‘μ—… νμ';
```

#### 3.3. `ranking_history` ν…μ΄λΈ”μ— `traffic_count` μ»¬λΌ μ¶”κ°€

```sql
ALTER TABLE ranking_history
ADD COLUMN traffic_count INT NOT NULL;

COMMENT ON COLUMN ranking_history.traffic_count IS 'ν•΄λ‹Ή μμ„ μΈ΅μ • μ‹μ μ νΈλν”½ μ‘μ—… νμ';
```

---

### 4. μμ„ λ³€λ™ μ΄λ ¥ κ΄€λ¦¬μ λ·° μ‹ κ· μ„¤κ³„

#### 4.1. κ΄€λ¦¬μ λ·° ν•µμ‹¬ κΈ°λ¥

| κΈ°λ¥ | μ„¤λ… |
|---|---|
| **μΊ νμΈλ³„ μμ„ λ³€λ™ κ·Έλν”„** | νΈλν”½ μ‘μ—… νμ(Xμ¶•) vs μμ„(Yμ¶•) λΌμΈ μ°¨νΈ |
| **μ μλ―Έν• μμ„ κ°μ„  μ΄λ²¤νΈ λ©λ΅** | 100ν μ™„λ£ μ‹μ μ— 50μ„ μ΄μƒ μƒμΉν• μΊ νμΈ λ©λ΅ |
| **μ§„ν–‰ μ¤‘μΈ μΊ νμΈ ν„ν™©** | ν„μ¬ νΈλν”½ μ‘μ—… μ§„ν–‰λ¥ (μ: 45/100)κ³Ό μ„μ‹ μμ„ λ³€ν™” |
| **λ³€μ μ΅°ν•©λ³„ ν¨κ³Ό λΉ„κµ** | μ–΄λ–¤ λ³€μ μ΅°ν•©μ΄ κ°€μ¥ λ†’μ€ μμ„ μƒμΉμ„ λ‹¬μ„±ν–λ”μ§€ λΉ„κµ |
| **ν”λ«νΌλ³„ ν†µκ³„** | λ„¤μ΄λ²„ vs μΏ ν΅μ—μ„ ν‰κ·  μμ„ μƒμΉν­ λΉ„κµ |
| **μ‹¤μ‹κ°„ μ•λ¦Ό** | μ μλ―Έν• μμ„ κ°μ„  κ°μ§€ μ‹ WebSocket μ•λ¦Ό |

#### 4.2. REST API μ—”λ“ν¬μΈνΈ

| μ—”λ“ν¬μΈνΈ | μ„¤λ… |
|---|---|
| `GET /api/v1/admin/ranking/history/{campaign_id}` | νΉμ • μΊ νμΈμ μμ„ λ³€λ™ μ΄λ ¥ μ΅°ν |
| `GET /api/v1/admin/ranking/significant-changes` | μ μλ―Έν• μμ„ κ°μ„  μ΄λ²¤νΈ λ©λ΅ μ΅°ν |
| `GET /api/v1/admin/ranking/progress` | μ§„ν–‰ μ¤‘μΈ μΊ νμΈ ν„ν™© μ΅°ν |
| `GET /api/v1/admin/ranking/statistics` | ν”λ«νΌλ³„ μμ„ κ°μ„  ν†µκ³„ μ΅°ν |

#### 4.3. WebSocket μ‹¤μ‹κ°„ μ•λ¦Ό

| μ΄λ²¤νΈ νƒ€μ… | μ„¤λ… |
|---|---|
| `ranking_change_detected` | μμ„ λ³€ν™” κ°μ§€ (100ν μ™„λ£ μ‹μ ) |
| `traffic_task_completed` | νΈλν”½ μ‘μ—… 1ν μ™„λ£ |
| `campaign_completed` | μΊ νμΈ μ™„λ£ (100ν μ™„λ£) |
| `significant_variable_saved` | μ μλ―Έν• λ³€μ μ €μ¥ |

---

## π“„ μ—…λ°μ΄νΈλ λ¬Έμ„ λ©λ΅

### μ‹ κ· λ¬Έμ„ (2κ±΄)

1. **RANKING_CHANGE_DETECTION_V2.md**: μμ„ λ³€ν™” κ°μ§€ μ‹μ¤ν… v2.0 μƒμ„Έ μ„¤κ³„
   - μ μλ―Έν• μμ„ κ°μ„  κΈ°μ¤€ λ³€κ²½ μ΄μ  λ° ν¨κ³Ό
   - Python κµ¬ν„ μ½”λ“ (RankingChangeDetectorV2)
   - λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ—…λ°μ΄νΈ
   - Control Tower ν†µν•© λ°©λ²•

2. **ADMIN_RANKING_HISTORY_VIEW.md**: μμ„ λ³€λ™ μ΄λ ¥ κ΄€λ¦¬μ λ·° μ„¤κ³„
   - UI/UX μ„¤κ³„ (λ€μ‹λ³΄λ“ λ μ΄μ•„μ›ƒ, μƒμ„Έ μΊ νμΈ λ·°)
   - REST API μ—”λ“ν¬μΈνΈ λ…μ„Έ
   - WebSocket μ‹¤μ‹κ°„ μ•λ¦Ό κµ¬ν„
   - React μ»΄ν¬λ„νΈ κµ¬ν„ μμ‹
   - κ¶ν• κ΄€λ¦¬ (κ΄€λ¦¬μ μ „μ©)

### μ—…λ°μ΄νΈλ λ¬Έμ„ (2κ±΄)

3. **BOT_ASSIGNMENT_STRATEGY.md**: λ΄‡λ³„ μ‘μ—… ν• λ‹Ή μ „λµ λ° μμ„ λ³€ν™” κ°μ§€ μ‹μ¤ν…
   - μμ„ λ³€ν™” κΈ°μ¤€μ„ v2.0μΌλ΅ μ—…λ°μ΄νΈ
   - RankingChangeDetector β†’ RankingChangeDetectorV2λ΅ λ³€κ²½
   - λ³„λ„ ν…μ¤νΈ μ‹μ¤ν…μ ν™•μΈ κΈ°μ¤€μ„ 50μ„λ΅ λ³€κ²½

4. **INTEGRATED_SYSTEM_ARCHITECTURE.md**: ν†µν•© μ‹μ¤ν… μ•„ν‚¤ν…μ²
   - Layer 5 (Validation & Analytics)μ μ μλ―Έν• λ³€ν™” κ°μ§€ κΈ°μ¤€μ„ v2.0μΌλ΅ μ—…λ°μ΄νΈ
   - κ΄€λ¦¬μ λ·° κΈ°λ¥ μ¶”κ°€
   - ranking_history ν…μ΄λΈ”μ— traffic_count μ»¬λΌ μ¶”κ°€

---

## π”„ μ›ν¬ν”λ΅μ° λ³€κ²½ μ‚¬ν•­

### v1.0 (κΈ°μ΅΄)

```
νΈλν”½ μ‘μ—… 1ν μ™„λ£
   β†“
μμ„ μ²΄ν¬ (λ§¤ μ‘μ—…λ§λ‹¤)
   β†“
μμ„ κ°μ„  β‰¥ 1μ„?
   β†“ (Yes)
μ μλ―Έν• λ³€μ μ €μ¥
```

**λ¬Έμ μ **: λ…Έμ΄μ¦μ— λ―Όκ°, μ‹¤μ©μ„± λ¶€μ΅±

### v2.0 (μ‹ κ·)

```
νΈλν”½ μ‘μ—… 1ν μ™„λ£
   β†“
traffic_count μ¦κ°€ (1 β†’ 2 β†’ 3 β†’ ... β†’ 100)
   β†“
traffic_count % 100 == 0?
   β†“ (Yes, 100ν μ™„λ£)
μμ„ μ²΄ν¬
   β†“
μμ„ κ°μ„  β‰¥ 50μ„?
   β†“ (Yes)
μ μλ―Έν• λ³€μ μ €μ¥
   β†“
κ΄€λ¦¬μμ—κ² WebSocket μ•λ¦Ό
```

**κ°μ„  ν¨κ³Ό**: λ…Έμ΄μ¦ μ κ±°, μ‹¤μ©μ„± ν–¥μƒ, μ‘μ—…λ‰ κΈ°μ¤€ λ…ν™•ν™”

---

## π“ μμ‹ μ‹λ‚λ¦¬μ¤

### μ‹λ‚λ¦¬μ¤ 1: μ μλ―Έν• μμ„ κ°μ„  (v2.0)

```
μ΄κΈ° μƒνƒ:
- μ΄κΈ° μμ„: 157μ„
- νΈλν”½ μ‘μ—… νμ: 0ν

νΈλν”½ μ‘μ—… μ§„ν–‰:
- 25ν μ™„λ£: 145μ„ (μ„μ‹ μμ„, μ•„μ§ νμ • μ• ν•¨)
- 50ν μ™„λ£: 128μ„ (μ„μ‹ μμ„, μ•„μ§ νμ • μ• ν•¨)
- 75ν μ™„λ£: 110μ„ (μ„μ‹ μμ„, μ•„μ§ νμ • μ• ν•¨)
- 100ν μ™„λ£: 95μ„ (μµμΆ… μμ„ μ²΄ν¬)

κ²°κ³Ό:
- μμ„ λ³€ν™”: 157 - 95 = 62μ„ μƒμΉ
- νμ •: μ μλ―Έν• κ°μ„  (β‰¥ 50μ„)
- μ΅°μΉ: λ³€μ μ €μ¥ + λ³„λ„ ν…μ¤νΈ + κ΄€λ¦¬μ μ•λ¦Ό
```

### μ‹λ‚λ¦¬μ¤ 2: λ―Έλ―Έν• μμ„ κ°μ„  (v2.0)

```
μ΄κΈ° μƒνƒ:
- μ΄κΈ° μμ„: 157μ„
- νΈλν”½ μ‘μ—… νμ: 0ν

νΈλν”½ μ‘μ—… μ§„ν–‰:
- 100ν μ™„λ£: 135μ„ (μµμΆ… μμ„ μ²΄ν¬)

κ²°κ³Ό:
- μμ„ λ³€ν™”: 157 - 135 = 22μ„ μƒμΉ
- νμ •: λ―Έλ―Έν• κ°μ„  (10~49μ„)
- μ΅°μΉ: κ΄€μ°° (λ³„λ„ ν…μ¤νΈ μ• ν•¨)
```

### μ‹λ‚λ¦¬μ¤ 3: λ³€ν™” μ—†μ (v2.0)

```
μ΄κΈ° μƒνƒ:
- μ΄κΈ° μμ„: 157μ„
- νΈλν”½ μ‘μ—… νμ: 0ν

νΈλν”½ μ‘μ—… μ§„ν–‰:
- 100ν μ™„λ£: 152μ„ (μµμΆ… μμ„ μ²΄ν¬)

κ²°κ³Ό:
- μμ„ λ³€ν™”: 157 - 152 = 5μ„ μƒμΉ
- νμ •: λ³€ν™” μ—†μ (-10~9μ„)
- μ΅°μΉ: λ¬΄μ‹
```

---

## π― κΈ°λ€ ν¨κ³Ό

### 1. λ…Έμ΄μ¦ μ κ±°

v1.0μ—μ„λ” 1~2μ„ μ •λ„μ μμ—° λ³€λ™μ„ 'μ μλ―Έν• κ°μ„ 'μΌλ΅ μ¤νν•λ” λ¬Έμ κ°€ μμ—μΌλ‚, v2.0μ—μ„λ” 50μ„ μ΄μƒ μƒμΉλ§μ„ μ μλ―Έν•κ² νμ •ν•μ—¬ λ…Έμ΄μ¦λ¥Ό ν¨κ³Όμ μΌλ΅ μ κ±°ν•©λ‹λ‹¤.

### 2. μ‹¤μ©μ„± ν–¥μƒ

157μ„μ—μ„ 156μ„λ΅ 1μ„ μƒμΉν•λ” κ²ƒμ€ μ‹¤μ§μ μΈ ν¨κ³Όκ°€ κ±°μ μ—†μ§€λ§, 157μ„μ—μ„ 95μ„λ΅ 62μ„ μƒμΉν•λ” κ²ƒμ€ κ²€μƒ‰ κ²°κ³Ό μƒμ„ νμ΄μ§€λ΅ μ§„μ…ν•μ—¬ μ‹¤μ§μ μΈ νΈλν”½ λ° λ§¤μ¶ μ¦κ°€λ¥Ό κΈ°λ€ν•  μ μμµλ‹λ‹¤.

### 3. μ‘μ—…λ‰ κΈ°μ¤€ λ…ν™•ν™”

100ν νΈλν”½ μ‘μ—…μ΄λΌλ” λ…ν™•ν• κΈ°μ¤€μ„ μ„¤μ •ν•μ—¬, μ‹μ¤ν…μ μμΈ΅ κ°€λ¥μ„±κ³Ό μ‹ λΆ°μ„±μ„ λ†’μ€μµλ‹λ‹¤. κ΄€λ¦¬μλ” "100ν μ‘μ—… ν›„ κ²°κ³Όλ¥Ό ν™•μΈν•λ©΄ λλ‹¤"λ” λ…ν™•ν• κΈ°λ€μΉλ¥Ό κ°€μ§ μ μμµλ‹λ‹¤.

### 4. λ°μ΄ν„° μ‹ λΆ°μ„± ν™•λ³΄

μ¶©λ¶„ν• μƒν” μ(100ν)λ¥Ό ν™•λ³΄ν•μ—¬ ν†µκ³„μ  μ‹ λΆ°μ„±μ„ ν™•λ³΄ν•κ³ , μ°μ—°ν• μμ„ λ³€λ™κ³Ό μ‹¤μ  ν¨κ³Όλ¥Ό λ…ν™•ν κµ¬λ¶„ν•  μ μμµλ‹λ‹¤.

### 5. κ΄€λ¦¬μ ν¬λ…μ„± ν–¥μƒ

κ΄€λ¦¬μ λ·°λ¥Ό ν†µν•΄ λ¨λ“  μΊ νμΈμ μμ„ λ³€λ™ μ΄λ ¥μ„ μ‹¤μ‹κ°„μΌλ΅ ν™•μΈν•  μ μμ–΄, μ‹μ¤ν…μ ν¬λ…μ„±κ³Ό μ‹ λΆ°μ„±μ΄ ν¬κ² ν–¥μƒλ©λ‹λ‹¤.

---

## π“ λ‹¤μ λ‹¨κ³„

### Phase 1: μ„λ²„ API κµ¬ν„ (7μΌ)

- FastAPI ν”„λ΅μ νΈ μ„¤μ •
- λ°μ΄ν„°λ² μ΄μ¤ λ§μ΄κ·Έλ μ΄μ… (traffic_count μ»¬λΌ μ¶”κ°€)
- RankingChangeDetectorV2 κµ¬ν„
- κ΄€λ¦¬μ API μ—”λ“ν¬μΈνΈ κµ¬ν„
- WebSocket μ‹¤μ‹κ°„ μ•λ¦Ό κµ¬ν„

### Phase 2: React λ€μ‹λ³΄λ“ κµ¬ν„ (5μΌ)

- RankingHistoryView μ»΄ν¬λ„νΈ κµ¬ν„
- SignificantChangesTable μ»΄ν¬λ„νΈ κµ¬ν„
- μ§„ν–‰ μ¤‘μΈ μΊ νμΈ ν„ν™© μ»΄ν¬λ„νΈ κµ¬ν„
- ν”λ«νΌλ³„ ν†µκ³„ μ»΄ν¬λ„νΈ κµ¬ν„
- WebSocket ν΄λΌμ΄μ–ΈνΈ ν†µν•©

### Phase 3: Android λ΄‡ μ—…λ°μ΄νΈ (3μΌ)

- traffic_count μ¶”μ  λ΅μ§ μ¶”κ°€
- 100ν μ™„λ£ μ‹ μμ„ μ²΄ν¬ νΈλ¦¬κ±°
- μ„λ²„μ™€ λ™κΈ°ν™”

### Phase 4: ν…μ¤νΈ λ° λ°°ν¬ (5μΌ)

- λ‹¨μ„ ν…μ¤νΈ
- ν†µν•© ν…μ¤νΈ
- μ„±λ¥ ν…μ¤νΈ
- Railway λ°°ν¬

---

## π“ μ΄ λ¬Έμ„ ν„ν™©

| κµ¬λ¶„ | λ¬Έμ„ μ |
|---|---|
| **κΈ°μ΅΄ λ¬Έμ„** | 42κ±΄ |
| **μ‹ κ· λ¬Έμ„ (v2.0)** | 2κ±΄ |
| **μ—…λ°μ΄νΈλ λ¬Έμ„ (v2.0)** | 2κ±΄ |
| **μ΄ λ¬Έμ„ μ** | **44κ±΄** |

---

**μ‘μ„±μ**: Manus AI Agent  
**μµμΆ… μμ •μΌ**: 2025-11-05  
**λ²„μ „**: 2.0  
**Git μ»¤λ°‹ ν•΄μ‹**: 9f8384f

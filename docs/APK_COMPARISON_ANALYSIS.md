# 3ê°œ APK ë¹„êµ ë¶„ì„ ë³´ê³ ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ê¸°ë³¸ ì •ë³´ ë¹„êµ](#ê¸°ë³¸-ì •ë³´-ë¹„êµ)
3. [ì•„í‚¤í…ì²˜ ë¹„êµ](#ì•„í‚¤í…ì²˜-ë¹„êµ)
4. [ì°¨ì´ì  ë¶„ì„](#ì°¨ì´ì -ë¶„ì„)
5. [ê³µí†µì  ë¶„ì„](#ê³µí†µì -ë¶„ì„)
6. [ì—­í•  ë° ìš©ë„](#ì—­í• -ë°-ìš©ë„)
7. [UML ë‹¤ì´ì–´ê·¸ë¨](#uml-ë‹¤ì´ì–´ê·¸ë¨)

---

## ğŸ” ê°œìš”

3ê°œ APK (zu12, zcu12, zru12)ëŠ” **ë™ì¼í•œ ì½”ë“œë² ì´ìŠ¤**ì—ì„œ **Build Flavor**ë§Œ ë‹¤ë¥´ê²Œ ë¹Œë“œëœ ë³€í˜•(Variant)ì…ë‹ˆë‹¤.

**í•µì‹¬ ì°¨ì´ì **:
- **íŒ¨í‚¤ì§€ëª…**: zu12/zcu12ëŠ” ë™ì¼, zru12ë§Œ ë‹¤ë¦„
- **Flavor**: parent, child, rank
- **API íŒŒë¼ë¯¸í„°**: app=1, app=2, app=3

---

## ğŸ“Š ê¸°ë³¸ ì •ë³´ ë¹„êµ

| í•­ëª© | zu12.apk | zcu12.apk | zru12.apk |
|------|----------|-----------|-----------|
| **íŒ¨í‚¤ì§€ëª…** | `com.zero.updater.zero` | `com.zero.updater.zero` | `com.zero.updater.rank` |
| **ì•± ì´ë¦„** | ì œë¡œ Updater | ì œë¡œ Updater | ì œë¡œìˆœìœ„ Updater |
| **ë²„ì „ ì½”ë“œ** | 12 | 12 | 12 |
| **ë²„ì „ ì´ë¦„** | 2.3 | 2.3c | 2.3r |
| **Flavor** | `parent` | `child` | `rank` |
| **ì—­í• ** | ğŸ–ï¸ ëŒ€ì¥ ë´‡ | ğŸª– ì«„ë³‘ ë´‡ | ğŸ“Š ìˆœìœ„ ì²´í¬ ë´‡ |
| **API íŒŒë¼ë¯¸í„°** | `app=1` | `app=2` | `app=3` |
| **íƒ€ê²Ÿ ì•±** | Samsung Internet | Samsung Internet | Samsung Internet |

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ë¹„êµ

### 1. í´ë˜ìŠ¤ êµ¬ì¡° (100% ë™ì¼)

```
com.loveplusplus.update/
â”œâ”€â”€ ApkUtils.java
â”œâ”€â”€ AppUtils.java
â”œâ”€â”€ CheckUpdateTask.java
â”œâ”€â”€ Constants.java
â”œâ”€â”€ DownloadService.java
â”œâ”€â”€ HttpUtils.java
â”œâ”€â”€ NotificationHelper.java
â”œâ”€â”€ StorageUtils.java
â”œâ”€â”€ TouchInjector.java
â”œâ”€â”€ UpdateApkFileProvider.java
â”œâ”€â”€ UpdateChecker.java
â”œâ”€â”€ UpdateDialog.java
â”œâ”€â”€ engine/
â”‚   â””â”€â”€ SuCommander.java
â””â”€â”€ sample/
    â”œâ”€â”€ MainActivity.java
    â”œâ”€â”€ UpdateHandlerThread.java
    â”œâ”€â”€ BootReceiver.java
    â””â”€â”€ pattern/
        â””â”€â”€ PatternHandlerThread.java
```

**ê²°ë¡ **: 3ê°œ APK ëª¨ë‘ **ë™ì¼í•œ í´ë˜ìŠ¤ êµ¬ì¡°**ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

---

### 2. ì½”ë“œ ë¹„êµ

#### MainActivity.java

| ë¼ì¸ | zu12 | zcu12 | zru12 |
|------|------|-------|-------|
| 23 | `com.zero.updater.zero.R.layout.activity_main` | `com.zero.updater.zero.R.layout.activity_main` | `com.zero.updater.rank.R.layout.activity_main` |
| 25 | `com.zero.updater.zero.R.string.title` | `com.zero.updater.zero.R.string.title` | `com.zero.updater.rank.R.string.title` |
| 26 | `com.zero.updater.zero.R.id.textView_status` | `com.zero.updater.zero.R.id.textView_status` | `com.zero.updater.rank.R.id.textView_status` |

**ì°¨ì´ì **: ë¦¬ì†ŒìŠ¤ íŒ¨í‚¤ì§€ëª…ë§Œ ë‹¤ë¦„ (ë¡œì§ì€ 100% ë™ì¼)

---

#### CheckUpdateTask.java

| ë¼ì¸ | zu12 | zcu12 | zru12 |
|------|------|-------|-------|
| 21 | `app=1&version_code=` | `app=2&version_code=` | `app=3&version_code=` |

**ì°¨ì´ì **: API íŒŒë¼ë¯¸í„°ë§Œ ë‹¤ë¦„ (ë¡œì§ì€ 100% ë™ì¼)

---

#### BuildConfig.java

| í•„ë“œ | zu12 | zcu12 | zru12 |
|------|------|-------|-------|
| **APPLICATION_ID** | `com.zero.updater.zero` | `com.zero.updater.zero` | `com.zero.updater.rank` |
| **FLAVOR** | `parent` | `child` | `rank` |
| **VERSION_NAME** | `2.3` | `2.3c` | `2.3r` |

**ì°¨ì´ì **: ë¹Œë“œ ì„¤ì •ë§Œ ë‹¤ë¦„ (ì½”ë“œëŠ” 100% ë™ì¼)

---

## ğŸ” ì°¨ì´ì  ë¶„ì„

### 1. íŒ¨í‚¤ì§€ëª…

| APK | íŒ¨í‚¤ì§€ëª… | ì´ìœ  |
|-----|---------|------|
| **zu12** | `com.zero.updater.zero` | ëŒ€ì¥/ì«„ë³‘ ë´‡ì€ ë™ì¼ íŒ¨í‚¤ì§€ |
| **zcu12** | `com.zero.updater.zero` | ëŒ€ì¥/ì«„ë³‘ ë´‡ì€ ë™ì¼ íŒ¨í‚¤ì§€ |
| **zru12** | `com.zero.updater.rank` | ìˆœìœ„ ì²´í¬ ë´‡ì€ ë³„ë„ íŒ¨í‚¤ì§€ |

**ì´ìœ **: zu12ì™€ zcu12ëŠ” **ë™ì‹œì— ì„¤ì¹˜ ë¶ˆê°€** (íŒ¨í‚¤ì§€ëª… ë™ì¼), zru12ëŠ” **ë³„ë„ ì„¤ì¹˜ ê°€ëŠ¥**

---

### 2. API íŒŒë¼ë¯¸í„°

| APK | API URL | ì„œë²„ ì‘ë‹µ |
|-----|---------|----------|
| **zu12** | `http://54.180.205.28/zero/api/v1/mobile/version?app=1&version_code=524` | `{"version_code": 524, "url": "http://kimfinal77.ipdisk.co.kr/publist/HDD1/Updates/zero_524.apk"}` |
| **zcu12** | `http://54.180.205.28/zero/api/v1/mobile/version?app=2&version_code=524` | `{"version_code": 524, "url": "http://kimfinal77.ipdisk.co.kr/publist/HDD1/Updates/zero_child_524.apk"}` |
| **zru12** | `http://54.180.205.28/zero/api/v1/mobile/version?app=3&version_code=186` | `{"version_code": 186, "url": "http://kimfinal77.ipdisk.co.kr/publist/HDD1/Updates/zero_rank_186.apk"}` |

**ê²°ë¡ **: ì„œë²„ê°€ `app` íŒŒë¼ë¯¸í„°ë¡œ ì–´ë–¤ ë´‡ì¸ì§€ êµ¬ë¶„í•˜ì—¬ **ë‹¤ë¥¸ APK URL**ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### 3. ë²„ì „ ì´ë¦„

| APK | ë²„ì „ ì´ë¦„ | ì˜ë¯¸ |
|-----|----------|------|
| **zu12** | `2.3` | ê¸°ë³¸ ë²„ì „ |
| **zcu12** | `2.3c` | Child (ì«„ë³‘) |
| **zru12** | `2.3r` | Rank (ìˆœìœ„ ì²´í¬) |

**ê²°ë¡ **: ë²„ì „ ì´ë¦„ìœ¼ë¡œ ë´‡ ìœ í˜•ì„ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## âœ… ê³µí†µì  ë¶„ì„

### 1. 100% ë™ì¼í•œ ì½”ë“œ

| í•­ëª© | ë™ì¼ ì—¬ë¶€ |
|------|----------|
| **MainActivity** | âœ… 100% ë™ì¼ (ë¦¬ì†ŒìŠ¤ íŒ¨í‚¤ì§€ëª…ë§Œ ë‹¤ë¦„) |
| **UpdateHandlerThread** | âœ… 100% ë™ì¼ |
| **CheckUpdateTask** | âœ… 100% ë™ì¼ (API íŒŒë¼ë¯¸í„°ë§Œ ë‹¤ë¦„) |
| **DownloadService** | âœ… 100% ë™ì¼ |
| **TouchInjector** | âœ… 100% ë™ì¼ |
| **SuCommander** | âœ… 100% ë™ì¼ |

**ê²°ë¡ **: 3ê°œ APKëŠ” **ë™ì¼í•œ ì½”ë“œë² ì´ìŠ¤**ì—ì„œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤.

---

### 2. ë™ì¼í•œ ë™ì‘ ë°©ì‹

| ë™ì‘ | zu12 | zcu12 | zru12 |
|------|------|-------|-------|
| **ì—…ë°ì´íŠ¸ ì²´í¬ ì£¼ê¸°** | 5ë¶„ | 5ë¶„ | 5ë¶„ |
| **íƒ€ê²Ÿ ì•± ê°•ì œ ì¢…ë£Œ** | âœ… | âœ… | âœ… |
| **ìë™ ì„¤ì¹˜ ì¢Œí‘œ** | (950, 1820) | (950, 1820) | (950, 1820) |
| **Root ê¶Œí•œ ì‚¬ìš©** | âœ… | âœ… | âœ… |
| **C&C ì„œë²„** | 54.180.205.28 | 54.180.205.28 | 54.180.205.28 |

**ê²°ë¡ **: 3ê°œ APKëŠ” **ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘**í•©ë‹ˆë‹¤.

---

### 3. ë™ì¼í•œ íƒ€ê²Ÿ ì•±

| APK | íƒ€ê²Ÿ ì•± |
|-----|---------|
| **zu12** | `com.sec.android.app.sbrowser` (Samsung Internet) |
| **zcu12** | `com.sec.android.app.sbrowser` (Samsung Internet) |
| **zru12** | `com.sec.android.app.sbrowser` (Samsung Internet) |

**ê²°ë¡ **: 3ê°œ APK ëª¨ë‘ **Samsung Internet Browser**ë¥¼ íƒ€ê²Ÿìœ¼ë¡œ í•©ë‹ˆë‹¤.

---

## ğŸ¯ ì—­í•  ë° ìš©ë„

### 1. zu12.apk (ëŒ€ì¥ ë´‡, Leader)

#### ì—­í• 
- ğŸ–ï¸ **ëŒ€ì¥ ë´‡** (Parent)
- í•«ìŠ¤íŒŸ ì œê³µ (ì¶”ì •)
- íŠ¸ë˜í”½ ìƒì„± ë¦¬ë”

#### íŠ¹ì§•
- **API íŒŒë¼ë¯¸í„°**: `app=1`
- **Flavor**: `parent`
- **íŒ¨í‚¤ì§€ëª…**: `com.zero.updater.zero`

#### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
```
1. í•«ìŠ¤íŒŸ í™œì„±í™” (IP ì œê³µ)
2. zcu12 ë´‡ë“¤ì´ ì—°ê²°
3. íŠ¸ë˜í”½ ìƒì„± ì‘ì—… ìˆ˜í–‰
4. 5ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸ ì²´í¬
```

---

### 2. zcu12.apk (ì«„ë³‘ ë´‡, Follower)

#### ì—­í• 
- ğŸª– **ì«„ë³‘ ë´‡** (Child)
- í•«ìŠ¤íŒŸ ì—°ê²° (ì¶”ì •)
- íŠ¸ë˜í”½ ìƒì„± íŒ”ë¡œì›Œ

#### íŠ¹ì§•
- **API íŒŒë¼ë¯¸í„°**: `app=2`
- **Flavor**: `child`
- **íŒ¨í‚¤ì§€ëª…**: `com.zero.updater.zero` (zu12ì™€ ë™ì¼)

#### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
```
1. zu12ì˜ í•«ìŠ¤íŒŸì— ì—°ê²°
2. zu12ì˜ IP ì‚¬ìš©
3. íŠ¸ë˜í”½ ìƒì„± ì‘ì—… ìˆ˜í–‰
4. 5ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸ ì²´í¬
```

---

### 3. zru12.apk (ìˆœìœ„ ì²´í¬ ë´‡, Rank Checker)

#### ì—­í• 
- ğŸ“Š **ìˆœìœ„ ì²´í¬ ë´‡** (Rank)
- ë„¤ì´ë²„/ì¿ íŒ¡ ìˆœìœ„ ëª¨ë‹ˆí„°ë§
- ìˆœìœ„ ë³€ë™ ë³´ê³ 

#### íŠ¹ì§•
- **API íŒŒë¼ë¯¸í„°**: `app=3`
- **Flavor**: `rank`
- **íŒ¨í‚¤ì§€ëª…**: `com.zero.updater.rank` (ë³„ë„)

#### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
```
1. 30ë¶„ë§ˆë‹¤ ìˆœìœ„ ì²´í¬ (ì¶”ì •)
2. ë„¤ì´ë²„/ì¿ íŒ¡ ê²€ìƒ‰ ê²°ê³¼ í™•ì¸
3. ìˆœìœ„ ë³€ë™ ì„œë²„ì— ë³´ê³ 
4. 5ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸ ì²´í¬
```

---

## ğŸ”„ í†µí•© ì›Œí¬í”Œë¡œìš°

### 1. ë´‡ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ë´‡ ë„¤íŠ¸ì›Œí¬ (22ê°œ)                          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  íŠ¸ë˜í”½ ìƒì„± ë´‡ (18ê°œ, 6ê°œ ê·¸ë£¹)                  â”‚      â”‚
â”‚  â”‚                                                   â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ 1: zu12 (ëŒ€ì¥) + zcu12 Ã— 2 (ì«„ë³‘)           â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ 2: zu12 (ëŒ€ì¥) + zcu12 Ã— 2 (ì«„ë³‘)           â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ 3: zu12 (ëŒ€ì¥) + zcu12 Ã— 2 (ì«„ë³‘)           â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ 4: zu12 (ëŒ€ì¥) + zcu12 Ã— 2 (ì«„ë³‘)           â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ 5: zu12 (ëŒ€ì¥) + zcu12 Ã— 2 (ì«„ë³‘)           â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ 6: zu12 (ëŒ€ì¥) + zcu12 Ã— 2 (ì«„ë³‘)           â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ìˆœìœ„ ì²´í¬ ë´‡ (4ê°œ, 1ê°œ ê·¸ë£¹)                     â”‚      â”‚
â”‚  â”‚                                                   â”‚      â”‚
â”‚  â”‚  ê·¸ë£¹ RC: zru12 Ã— 4 (ìˆœìœ„ ì²´í¬)                   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  C&C ì„œë²„ (54.180.205.28)   â”‚
              â”‚  - app=1 â†’ zu12 ì—…ë°ì´íŠ¸     â”‚
              â”‚  - app=2 â†’ zcu12 ì—…ë°ì´íŠ¸    â”‚
              â”‚  - app=3 â†’ zru12 ì—…ë°ì´íŠ¸    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. ì‹¤í–‰ íë¦„

```
1. C&C ì„œë²„: ìº í˜ì¸ ìƒì„± (ë„¤ì´ë²„ or ì¿ íŒ¡)
   â””â”€ ì‘ì—… í• ë‹¹ (JSON íŒ¨í„´)

2. íŠ¸ë˜í”½ ìƒì„± ë´‡ (zu12 + zcu12)
   â”œâ”€ zu12: í•«ìŠ¤íŒŸ í™œì„±í™”
   â”œâ”€ zcu12: zu12 í•«ìŠ¤íŒŸ ì—°ê²°
   â”œâ”€ ê²€ìƒ‰ í‚¤ì›Œë“œ ì…ë ¥
   â”œâ”€ ìƒí’ˆ í´ë¦­
   â”œâ”€ ì²´ë¥˜ ì‹œê°„ (30ì´ˆ~2ë¶„)
   â””â”€ ë’¤ë¡œê°€ê¸°

3. ìˆœìœ„ ì²´í¬ ë´‡ (zru12)
   â”œâ”€ 30ë¶„ë§ˆë‹¤ ìˆœìœ„ í™•ì¸
   â”œâ”€ ë„¤ì´ë²„/ì¿ íŒ¡ ê²€ìƒ‰ ê²°ê³¼ íŒŒì‹±
   â””â”€ ìˆœìœ„ ë³€ë™ ì„œë²„ ë³´ê³ 

4. C&C ì„œë²„: ê²°ê³¼ ë¶„ì„
   â””â”€ ìˆœìœ„ ê°œì„  ì—¬ë¶€ íŒë‹¨
```

---

## ğŸ“Š UML ë‹¤ì´ì–´ê·¸ë¨

### 1. ë°°í¬ ë‹¤ì´ì–´ê·¸ë¨ (Deployment Diagram)

```mermaid
graph TB
    subgraph "C&C ì„œë²„ (54.180.205.28)"
        API[API Server]
        DB[(Database)]
        API --> DB
    end
    
    subgraph "Android ê¸°ê¸° 1 (ëŒ€ì¥)"
        ZU12_1[zu12.apk<br/>app=1<br/>Hotspot ON]
    end
    
    subgraph "Android ê¸°ê¸° 2 (ì«„ë³‘)"
        ZCU12_1[zcu12.apk<br/>app=2<br/>ì—°ê²° â†’ ê¸°ê¸°1]
    end
    
    subgraph "Android ê¸°ê¸° 3 (ì«„ë³‘)"
        ZCU12_2[zcu12.apk<br/>app=2<br/>ì—°ê²° â†’ ê¸°ê¸°1]
    end
    
    subgraph "Android ê¸°ê¸° 4 (ìˆœìœ„ ì²´í¬)"
        ZRU12_1[zru12.apk<br/>app=3<br/>ë…ë¦½ ì‹¤í–‰]
    end
    
    ZU12_1 -->|app=1| API
    ZCU12_1 -->|app=2| API
    ZCU12_2 -->|app=2| API
    ZRU12_1 -->|app=3| API
    
    ZCU12_1 -.->|WiFi ì—°ê²°| ZU12_1
    ZCU12_2 -.->|WiFi ì—°ê²°| ZU12_1
```

---

### 2. ì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨ (Component Diagram)

```mermaid
graph LR
    subgraph "zu12.apk (ëŒ€ì¥)"
        MA1[MainActivity]
        UH1[UpdateHandlerThread]
        CU1[CheckUpdateTask]
        DS1[DownloadService]
        TI1[TouchInjector]
        
        MA1 --> UH1
        UH1 --> CU1
        CU1 --> DS1
        DS1 --> TI1
    end
    
    subgraph "zcu12.apk (ì«„ë³‘)"
        MA2[MainActivity]
        UH2[UpdateHandlerThread]
        CU2[CheckUpdateTask]
        DS2[DownloadService]
        TI2[TouchInjector]
        
        MA2 --> UH2
        UH2 --> CU2
        CU2 --> DS2
        DS2 --> TI2
    end
    
    subgraph "zru12.apk (ìˆœìœ„ ì²´í¬)"
        MA3[MainActivity]
        UH3[UpdateHandlerThread]
        CU3[CheckUpdateTask]
        DS3[DownloadService]
        TI3[TouchInjector]
        
        MA3 --> UH3
        UH3 --> CU3
        CU3 --> DS3
        DS3 --> TI3
    end
    
    subgraph "C&C ì„œë²„"
        API[Version API]
    end
    
    CU1 -->|app=1| API
    CU2 -->|app=2| API
    CU3 -->|app=3| API
    
    style MA1 fill:#f9f,stroke:#333,stroke-width:2px
    style MA2 fill:#9ff,stroke:#333,stroke-width:2px
    style MA3 fill:#ff9,stroke:#333,stroke-width:2px
```

---

### 3. ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ (State Diagram) - ê³µí†µ

```mermaid
stateDiagram-v2
    [*] --> ì•±ì‹œì‘
    ì•±ì‹œì‘ --> ì´ˆê¸°í™”
    ì´ˆê¸°í™” --> íƒ€ê²Ÿì•±ì¢…ë£Œ
    íƒ€ê²Ÿì•±ì¢…ë£Œ --> ëŒ€ê¸°
    
    ëŒ€ê¸° --> ì—…ë°ì´íŠ¸ì²´í¬: 5ë¶„ë§ˆë‹¤
    ì—…ë°ì´íŠ¸ì²´í¬ --> APIí˜¸ì¶œ
    APIí˜¸ì¶œ --> ë²„ì „ë¹„êµ
    
    ë²„ì „ë¹„êµ --> ë‹¤ìš´ë¡œë“œ: ì—…ë°ì´íŠ¸ í•„ìš”
    ë²„ì „ë¹„êµ --> ëŒ€ê¸°: ì—…ë°ì´íŠ¸ ë¶ˆí•„ìš”
    
    ë‹¤ìš´ë¡œë“œ --> ìë™ì„¤ì¹˜
    ìë™ì„¤ì¹˜ --> ì¥ì‹œê°„ëŒ€ê¸°: 6ë¶„
    ì¥ì‹œê°„ëŒ€ê¸° --> ì—…ë°ì´íŠ¸ì²´í¬
    
    note right of APIí˜¸ì¶œ
        zu12: app=1
        zcu12: app=2
        zru12: app=3
    end note
```

---

## ğŸ“ í•µì‹¬ ìš”ì•½

### 1. 3ê°œ APKì˜ ê´€ê³„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **ì½”ë“œë² ì´ìŠ¤** | 100% ë™ì¼ |
| **ë¹Œë“œ ë°©ì‹** | Build Flavorë¡œ êµ¬ë¶„ |
| **ì°¨ì´ì ** | íŒ¨í‚¤ì§€ëª…, API íŒŒë¼ë¯¸í„°, ë²„ì „ ì´ë¦„ |
| **ê³µí†µì ** | ë¡œì§, í´ë˜ìŠ¤ êµ¬ì¡°, ë™ì‘ ë°©ì‹ |

---

### 2. ì—­í•  êµ¬ë¶„

| APK | ì—­í•  | API | íŒ¨í‚¤ì§€ëª… |
|-----|------|-----|---------|
| **zu12** | ğŸ–ï¸ ëŒ€ì¥ ë´‡ (í•«ìŠ¤íŒŸ ì œê³µ) | `app=1` | `com.zero.updater.zero` |
| **zcu12** | ğŸª– ì«„ë³‘ ë´‡ (í•«ìŠ¤íŒŸ ì—°ê²°) | `app=2` | `com.zero.updater.zero` |
| **zru12** | ğŸ“Š ìˆœìœ„ ì²´í¬ ë´‡ | `app=3` | `com.zero.updater.rank` |

---

### 3. ì„œë²„ êµ¬ë¶„ ë°©ì‹

```
C&C ì„œë²„ (54.180.205.28)
â”œâ”€ app=1 â†’ zero_524.apk (zu12 ì—…ë°ì´íŠ¸)
â”œâ”€ app=2 â†’ zero_child_524.apk (zcu12 ì—…ë°ì´íŠ¸)
â””â”€ app=3 â†’ zero_rank_186.apk (zru12 ì—…ë°ì´íŠ¸)
```

---

### 4. ë´‡ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

```
íŠ¸ë˜í”½ ìƒì„± ë´‡ (18ê°œ)
â”œâ”€ zu12 Ã— 6 (ëŒ€ì¥)
â””â”€ zcu12 Ã— 12 (ì«„ë³‘)

ìˆœìœ„ ì²´í¬ ë´‡ (4ê°œ)
â””â”€ zru12 Ã— 4 (ìˆœìœ„ ì²´í¬)

ì´ 22ê°œ ë´‡
```

---

## ğŸ” íŠ¹ì´ì‚¬í•­

### 1. íŒ¨í‚¤ì§€ëª… ì „ëµ

- **zu12ì™€ zcu12**: ë™ì¼ íŒ¨í‚¤ì§€ëª… (`com.zero.updater.zero`)
  - **ì´ìœ **: ë™ì¼ ê¸°ê¸°ì— ë™ì‹œ ì„¤ì¹˜ ë¶ˆê°€ (ì—­í•  êµ¬ë¶„)
  - **íš¨ê³¼**: zu12 ë˜ëŠ” zcu12 ì¤‘ í•˜ë‚˜ë§Œ ì„¤ì¹˜ ê°€ëŠ¥

- **zru12**: ë³„ë„ íŒ¨í‚¤ì§€ëª… (`com.zero.updater.rank`)
  - **ì´ìœ **: zu12/zcu12ì™€ ë™ì‹œ ì„¤ì¹˜ ê°€ëŠ¥
  - **íš¨ê³¼**: íŠ¸ë˜í”½ ìƒì„± + ìˆœìœ„ ì²´í¬ ë™ì‹œ ì‹¤í–‰ ê°€ëŠ¥

---

### 2. API íŒŒë¼ë¯¸í„° ì „ëµ

- **ì„œë²„ê°€ `app` íŒŒë¼ë¯¸í„°ë¡œ ë´‡ ìœ í˜• êµ¬ë¶„**
- **ê° ë´‡ì— ë§ëŠ” APK URL ë°˜í™˜**
- **ë²„ì „ ê´€ë¦¬ ë…ë¦½ì ** (zu12: v524, zru12: v186)

---

### 3. Build Flavor í™œìš©

```gradle
// build.gradle (ì¶”ì •)
android {
    flavorDimensions "role"
    productFlavors {
        parent {
            dimension "role"
            applicationId "com.zero.updater.zero"
            versionNameSuffix ""
        }
        child {
            dimension "role"
            applicationId "com.zero.updater.zero"
            versionNameSuffix "c"
        }
        rank {
            dimension "role"
            applicationId "com.zero.updater.rank"
            versionNameSuffix "r"
        }
    }
}
```

---

**ê²°ë¡ **: 3ê°œ APKëŠ” **ë™ì¼í•œ ì½”ë“œë² ì´ìŠ¤**ì—ì„œ **Build Flavor**ë¡œ êµ¬ë¶„ëœ ë³€í˜•ì´ë©°, **API íŒŒë¼ë¯¸í„°**ë¡œ ì„œë²„ê°€ ì—­í• ì„ êµ¬ë¶„í•©ë‹ˆë‹¤.
